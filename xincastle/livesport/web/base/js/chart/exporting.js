(function(h){"object"===typeof module&&module.exports?module.exports=h:h(Highcharts)})(function(h){(function(e){var h=e.defaultOptions,p=e.doc,A=e.Chart,w=e.addEvent,I=e.removeEvent,E=e.fireEvent,t=e.createElement,B=e.discardElement,v=e.css,q=e.merge,C=e.pick,m=e.each,F=e.objectEach,u=e.extend,J=e.isTouchDevice,D=e.win,G=D.navigator.userAgent,K=e.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(G);/firefox/i.test(G);u(h.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",
downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});h.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}};q(!0,h.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:J?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",
color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}});h.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",
onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}};e.post=function(a,b,d){var c=t("form",q({method:"post",action:a,enctype:"multipart/form-data"},
d),{display:"none"},p.body);F(b,function(a,b){t("input",{type:"hidden",name:b,value:a},null,c)});c.submit();B(c)};u(A.prototype,{sanitizeSVG:function(a,b){if(b&&b.exporting&&b.exporting.allowHTML){var d=a.match(/<\/svg>(.*?$)/);d&&d[1]&&(d='<foreignObject x="0" y="0" width="'+b.chart.width+'" height="'+b.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+d[1]+"</body></foreignObject>",a=a.replace("</svg>",d+"</svg>"))}a=a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,
"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g,"\u00a0").replace(/&shy;/g,"\u00ad");return a=a.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,
"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(a){var b,d=q(this.options,a);p.createElementNS||(p.createElementNS=function(a,
b){return p.createElement(b)});var c=t("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},p.body);var r=this.renderTo.style.width;var l=this.renderTo.style.height;r=d.exporting.sourceWidth||d.chart.width||/px$/.test(r)&&parseInt(r,10)||600;l=d.exporting.sourceHeight||d.chart.height||/px$/.test(l)&&parseInt(l,10)||400;u(d.chart,{animation:!1,renderTo:c,forExport:!0,renderer:"SVGRenderer",width:r,height:l});d.exporting.enabled=!1;delete d.data;d.series=
[];m(this.series,function(a){b=q(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible});b.isInternal||d.series.push(b)});m(this.axes,function(a){a.userOptions.internalKey||(a.userOptions.internalKey=e.uniqueKey())});var k=new e.Chart(d,this.callback);a&&m(["xAxis","yAxis","series"],function(b){var c={};a[b]&&(c[b]=a[b],k.update(c))});m(this.axes,function(a){var b=e.find(k.axes,function(b){return b.options.internalKey===a.userOptions.internalKey}),c=a.getExtremes(),
d=c.userMin;c=c.userMax;!b||void 0===d&&void 0===c||b.setExtremes(d,c,!0,!1)});r=k.getChartHTML();r=this.sanitizeSVG(r,d);d=null;k.destroy();B(c);return r},getSVGForExport:function(a,b){var d=this.options.exporting;return this.getSVG(q({chart:{borderRadius:0}},d.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||d.sourceWidth,sourceHeight:a&&a.sourceHeight||d.sourceHeight}}))},exportChart:function(a,b){b=this.getSVGForExport(a,b);a=q(this.options.exporting,a);e.post(a.url,{filename:a.filename||
"chart",type:a.type,width:a.width||0,scale:a.scale,svg:b},a.formAttributes)},print:function(){var a=this,b=a.container,d=[],c=b.parentNode,e=p.body,l=e.childNodes,k=a.options.exporting.printMaxWidth,f;if(!a.isPrinting){a.isPrinting=!0;a.pointer.reset(null,0);E(a,"beforePrint");if(f=k&&a.chartWidth>k){var n=[a.options.chart.width,void 0,!1];a.setSize(k,void 0,!1)}m(l,function(a,b){1===a.nodeType&&(d[b]=a.style.display,a.style.display="none")});e.appendChild(b);D.focus();D.print();setTimeout(function(){c.appendChild(b);
m(l,function(a,b){1===a.nodeType&&(a.style.display=d[b])});a.isPrinting=!1;f&&a.setSize.apply(a,n);E(a,"afterPrint")},1E3)}},contextMenu:function(a,b,d,c,r,l,k){var f=this,n=f.options.navigation,h=f.chartWidth,q=f.chartHeight,H="cache-"+a,g=f[H],x=Math.max(r,l),y,z;g||(f[H]=g=t("div",{className:a},{position:"absolute",zIndex:1E3,padding:x+"px"},f.container),y=t("div",{className:"highcharts-menu"},null,g),v(y,u({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},
n.menuStyle)),z=function(){v(g,{display:"none"});k&&k.setState(0);f.openMenu=!1},f.exportEvents.push(w(g,"mouseleave",function(){g.hideTimer=setTimeout(z,500)}),w(g,"mouseenter",function(){clearTimeout(g.hideTimer)}),w(p,"mouseup",function(b){f.pointer.inClass(b.target,a)||z()})),m(b,function(a){"string"===typeof a&&(a=f.options.exporting.menuItemDefinitions[a]);if(e.isObject(a,!0)){var b;a.separator?b=t("hr",null,null,y):(b=t("div",{className:"highcharts-menu-item",onclick:function(b){b&&b.stopPropagation();
z();a.onclick&&a.onclick.apply(f,arguments)},innerHTML:a.text||f.options.lang[a.textKey]},null,y),b.onmouseover=function(){v(this,n.menuItemHoverStyle)},b.onmouseout=function(){v(this,n.menuItemStyle)},v(b,u({cursor:"pointer"},n.menuItemStyle)));f.exportDivElements.push(b)}}),f.exportDivElements.push(y,g),f.exportMenuWidth=g.offsetWidth,f.exportMenuHeight=g.offsetHeight);b={display:"block"};d+f.exportMenuWidth>h?b.right=h-d-r-x+"px":b.left=d-x+"px";c+l+f.exportMenuHeight>q&&"top"!==k.alignOptions.verticalAlign?
b.bottom=q-c-x+"px":b.top=c+l-x+"px";v(g,b);f.openMenu=!0},addButton:function(a){var b=this,d=b.renderer,c=q(b.options.navigation.buttonOptions,a),e=c.onclick,l=c.menuItems,k,f=c.symbolSize||12;b.btnCount||(b.btnCount=0);b.exportDivElements||(b.exportDivElements=[],b.exportSVGElements=[]);if(!1!==c.enabled){var n=c.theme,h=n.states,m=h&&h.hover;h=h&&h.select;var p;delete n.states;e?p=function(a){a.stopPropagation();e.call(b,a)}:l&&(p=function(){b.contextMenu(g.menuClassName,l,g.translateX,g.translateY,
g.width,g.height,g);g.setState(2)});c.text&&c.symbol?n.paddingLeft=C(n.paddingLeft,25):c.text||u(n,{width:c.width,height:c.height,padding:0});var g=d.button(c.text,0,0,p,n,m,h).addClass(a.className).attr({"stroke-linecap":"round",title:b.options.lang[c._titleKey],zIndex:3});g.menuClassName=a.menuClassName||"highcharts-menu-"+b.btnCount++;c.symbol&&(k=d.symbol(c.symbol,c.symbolX-f/2,c.symbolY-f/2,f,f).addClass("highcharts-button-symbol").attr({zIndex:1}).add(g),k.attr({stroke:c.symbolStroke,fill:c.symbolFill,
"stroke-width":c.symbolStrokeWidth||1}));g.add().align(u(c,{width:g.width,x:C(c.x,b.buttonOffset)}),!0,"spacingBox");b.buttonOffset+=(g.width+c.buttonSpacing)*("right"===c.align?-1:1);b.exportSVGElements.push(g,k)}},destroyExport:function(a){var b=a?a.target:this;a=b.exportSVGElements;var d=b.exportDivElements,c=b.exportEvents,e;a&&(m(a,function(a,c){a&&(a.onclick=a.ontouchstart=null,e="cache-"+a.menuClassName,b[e]&&delete b[e],b.exportSVGElements[c]=a.destroy())}),a.length=0);d&&(m(d,function(a,
c){clearTimeout(a.hideTimer);I(a,"mouseleave");b.exportDivElements[c]=a.onmouseout=a.onmouseover=a.ontouchstart=a.onclick=null;B(a)}),d.length=0);c&&(m(c,function(a){a()}),c.length=0)}});K.menu=function(a,b,d,c){return["M",a,b+2.5,"L",a+d,b+2.5,"M",a,b+c/2+.5,"L",a+d,b+c/2+.5,"M",a,b+c-1.5,"L",a+d,b+c-1.5]};A.prototype.renderExporting=function(){var a=this,b=a.options.exporting,d=b.buttons,c=a.isDirtyExporting||!a.exportSVGElements;a.buttonOffset=0;a.isDirtyExporting&&a.destroyExport();c&&!1!==b.enabled&&
(a.exportEvents=[],F(d,function(b){a.addButton(b)}),a.isDirtyExporting=!1);w(a,"destroy",a.destroyExport)};A.prototype.callbacks.push(function(a){a.renderExporting();w(a,"redraw",a.renderExporting);m(["exporting","navigation"],function(b){a[b]={update:function(d,c){a.isDirtyExporting=!0;q(!0,a.options[b],d);C(c,!0)&&a.redraw()}}})})})(h)});