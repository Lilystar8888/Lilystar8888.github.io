(function(a){typeof define==="function"&&define.amd?define(["jquery","extend"],a):a(jQuery)})(function(){var a="Your browser does not support Device Orientation and Motion API.";$.motion={rotate:function(c){if(window.DeviceOrientationEvent===undefined){console.log(a);return}var b=$.isIOS?0:null;$(window).on("deviceorientation",function(d){var a=d.originalEvent.alpha;if(b==null){b=a;return}a=a-b;if(a<0)a=360+a;c&&c(360-a)})},sideUpDown:function(d){if(window.DeviceMotionEvent===undefined){console.log(a);return}var b=jQuery.extend({},$.motion.sideUpDown.settings,typeof d=="function"?{callback:d}:d),c=null;$(window).on("devicemotion",function(d){var a=d.originalEvent.accelerationIncludingGravity.z;if($.isAndroid)a=0-a;if(c==null){if(a>b.downAngle)c=false;if(a<b.upAngle)c=true;if(b.firstTrigger!=""){if(b.firstTrigger=="up"&&c)b.callback&&b.callback("up");if(b.firstTrigger=="down"&&!c)b.callback&&b.callback("down")}return}if(c===true&&a>b.downAngle){c=false;b.callback&&b.callback("down");return}if(c===false&&a<b.upAngle){c=true;b.callback&&b.callback("up");return}})},shake:function(l){if(window.DeviceMotionEvent===undefined){console.log(a);return}var b=jQuery.extend({},$.motion.shake.settings,typeof l=="function"?{callback:l}:l),f=0,j=0,k=0,e=0,h=0,i=0,g=0,m=new Date,n=new Date,c=false,d=0;$(window).on("devicemotion",function(s){var l=s.originalEvent.accelerationIncludingGravity;f=l.x;j=l.y;k=l.y;e=f-(f*b.hf+e*(1-b.hf));h=j-(j*b.hf+h*(1-b.hf));i=k-(k*b.hf+i*(1-b.hf));var a=false,t=false;if(a)return;a=true;var o=Math.abs(f-2*e),p=Math.abs(f-2*e),q=Math.abs(f-2*e);if(o>b.violence*1.5&&c===false){g+=1;d=Math.max(d,o-b.violence*1.5)}if(p>b.violence*2&&c===false){g+=1;d=Math.max(d,p-b.violence*2)}if(q>b.violence*3&&c===false){g+=1;d=Math.max(d,q-b.violence*3)}m=new Date;var r=m.getTime()-n.getTime();if(c){if(r>=b.debounce)c=false;else c=true;g=0}if(g>=b.shakethreshold&&c===false){n=m;c=true;b.callback&&b.callback({x:Math.abs(f-2*e),y:Math.abs(j-2*h),z:Math.abs(k-2*i),max:d});d=0;e=0;h=0;i=0}a=true})}};$.motion.sideUpDown.settings={upAngle:-6,downAngle:7,firstTrigger:"",callback:function(){}};$.motion.shake.settings={violence:3,hf:.2,shakethreshold:5,debounce:1e3,callback:function(){}}})