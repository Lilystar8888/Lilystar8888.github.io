/*!
* @version 0.0.1
* @author Ammon Lin
*/
(function(n){typeof define=="function"&&define.amd?define(["jquery","extend"],n):n(jQuery)})(function(n){return n.fn.viewed=function(t,i){function e(){r.each(function(){var t=n(this),f=n(document).scrollTop(),e=n(document).scrollLeft(),s=n(window).height(),h=n(window).width(),r=t.offset(),o=t.data("cur-viewed"),u;t.data("pre-viewed",o);u=f<=r.top&&r.top<f+s&&e<=r.left&&r.left<e+h;t.data("cur-viewed",u);!o&&u&&i.apply(this)})}function f(){clearTimeout(u);u=setTimeout(e,t)}var r,u;n.isFunction(t)&&(i=t,t=1e3);r=this.filter(function(){return!n(this).data("viewed")}).data("viewed",!0);n(window).on("scroll resize"+(n.isMobile?" touchend":""),f);return f(),this}});