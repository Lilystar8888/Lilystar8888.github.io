(function(a){typeof define==="function"&&define.amd?define(["jquery","connect"],a):a(jQuery)})(function(){$.fn.requireFB=function(){var a=$($.fn.requireFB.settings.bindingSelector).eq(0);$.fb.fansPage&&$.fb.fansPage({onShow:function(b,c){a.trigger($.fn.requireFB.events.FANS_PAGE_SHOW,[b,c])},onHide:function(b){a.trigger($.fn.requireFB.events.FANS_PAGE_HIDE,[b])}});if($.fb.connect){$.fb.connect({onLogin:function(){a.trigger($.fn.requireFB.events.CONNECT_LOGIN)},onSuccess:function(c,b){a.trigger($.fn.requireFB.events.CONNECT_SUCCESS,[c,b]);if($.fb.fansPage)return $.fb.fansPage().done(function(){a.trigger($.fn.requireFB.events.FANS_PAGE_SUCCESS,[c,b]);a.trigger($.fn.requireFB.events.REQUIRE_FB_SUCCESS,[c,b])}).fail(function(){a.trigger($.fn.requireFB.events.FANS_PAGE_FAIL);a.trigger($.fn.requireFB.events.REQUIRE_FB_FAIL)});else a.trigger($.fn.requireFB.events.REQUIRE_FB_SUCCESS,[c,b])},onFail:function(){a.trigger($.fn.requireFB.events.CONNECT_FAIL);a.trigger($.fn.requireFB.events.REQUIRE_FB_FAIL)}});$($.fn.requireFB.settings.bindingSelector).once($.fn.requireFB.settings.bindingEvent,function(){a=$(this);return $.fb.connect()})}return this};$.fn.requireFB.settings={bindingSelector:"[requireFB]",bindingEvent:window.CLICK?window.CLICK:"click"};$.fn.requireFB.events={REQUIRE_FB_SUCCESS:"requireFB:success",REQUIRE_FB_FAIL:"requireFB:fail",CONNECT_LOGIN:"connect:login",CONNECT_SUCCESS:"connect:success",CONNECT_FAIL:"connect:fail",FANS_PAGE_SUCCESS:"fansPage:success",FANS_PAGE_FAIL:"fansPage:fail",FANS_PAGE_SHOW:"fansPage:show",FANS_PAGE_HIDE:"fansPage:hide"}})