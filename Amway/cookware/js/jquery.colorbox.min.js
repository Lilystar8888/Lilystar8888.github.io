/*!
	Colorbox v1.5.9 - 2014-04-25
	jQuery lightbox and modal window plugin
	(c) 2014 Jack Moore - http://www.jacklmoore.com/colorbox
	license: http://www.opensource.org/licenses/mit-license.php
	add define support by Ammon
*/
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){(function(n,t,i){function e(i,r,u){var f=t.createElement(i);return r&&(f.id=h+r),u&&(f.style.cssText=u),n(f)}function ai(){return i.innerHeight?i.innerHeight:n(i).height()}function kt(t,i){i!==Object(i)&&(i={});this.cache={};this.el=t;this.value=function(t){var r;return this.cache[t]===undefined&&(r=n(this.el).attr("data-cbox-"+t),r!==undefined?this.cache[t]=r:i[t]!==undefined?this.cache[t]=i[t]:ni[t]!==undefined&&(this.cache[t]=ni[t])),this.cache[t]};this.get=function(t){var i=this.value(t);return n.isFunction(i)?i.call(this.el,this):i}}function dt(n){var i=c.length,t=(v+n)%i;return t<0?i+t:t}function a(n,t){return Math.round((/%/.test(n)?(t==="x"?d.width():ai())/100:1)*parseInt(n,10))}function pi(n,t){return n.get("photo")||n.get("photoRegex").test(t)}function wi(n,t){return n.get("retinaUrl")&&i.devicePixelRatio>1?t.replace(n.get("photoRegex"),n.get("retinaSuffix")):t}function bi(n){"contains"in u[0]&&!u[0].contains(n.target)&&n.target!==k[0]&&(n.stopPropagation(),u.focus())}function at(n){at.str!==n&&(u.add(k).removeClass(at.str).addClass(n),at.str=n)}function gi(t){v=0;t&&t!==!1?(c=n("."+ft).filter(function(){var i=n.data(this,it),r=new kt(this,i);return r.get("rel")===t}),v=c.index(r.el),v===-1&&(c=c.add(r.el),v=c.length-1)):c=n(r.el)}function ut(i){n(t).trigger(i);p.triggerHandler(i)}function gt(i){var f;if(!lt){if(f=n(i).data("colorbox"),r=new kt(i,f),gi(r.get("rel")),!tt){tt=ct=!0;at(r.get("className"));u.css({visibility:"hidden",display:"block",opacity:""});l=e(s,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");y.css({width:"",height:""}).append(l);w=ri.height()+ei.height()+y.outerHeight(!0)-y.height();b=ui.width()+fi.width()+y.outerWidth(!0)-y.width();g=l.outerHeight(!0);nt=l.outerWidth(!0);var h=a(r.get("initialWidth"),"x"),c=a(r.get("initialHeight"),"y"),v=r.get("maxWidth"),d=r.get("maxHeight");if(r.w=(v!==!1?Math.min(h,a(v,"x")):h)-nt-b,r.h=(d!==!1?Math.min(c,a(d,"y")):c)-g-w,l.css({width:"",height:r.h}),o.position(),ut(di),r.get("onOpen"),hi.add(oi).hide(),u.focus(),r.get("trapFocus")&&t.addEventListener){t.addEventListener("focus",bi,!0);p.one(ii,function(){t.removeEventListener("focus",bi,!0)})}if(r.get("returnFocus"))p.one(ii,function(){n(r.el).focus()})}k.css({opacity:parseFloat(r.get("opacity"))||"",cursor:r.get("overlayClose")?"pointer":"",visibility:"visible"}).show();r.get("closeButton")?bt.html(r.get("close")).appendTo(y):bt.appendTo("<div/>");ir()}}function ki(){!u&&t.body&&(li=!1,d=n(i),u=e(s).attr({id:it,"class":n.support.opacity===!1?h+"IE":"",role:"dialog",tabindex:"-1"}).hide(),k=e(s,"Overlay").hide(),wt=n([e(s,"LoadingOverlay")[0],e(s,"LoadingGraphic")[0]]),rt=e(s,"Wrapper"),y=e(s,"Content").append(oi=e(s,"Title"),si=e(s,"Current"),ht=n('<button type="button"/>').attr({id:h+"Previous"}),st=n('<button type="button"/>').attr({id:h+"Next"}),et=e("button","Slideshow"),wt),bt=n('<button type="button"/>').attr({id:h+"Close"}),rt.append(e(s).append(e(s,"TopLeft"),ri=e(s,"TopCenter"),e(s,"TopRight")),e(s,!1,"clear:left").append(ui=e(s,"MiddleLeft"),y,fi=e(s,"MiddleRight")),e(s,!1,"clear:left").append(e(s,"BottomLeft"),ei=e(s,"BottomCenter"),e(s,"BottomRight"))).find("div div").css({float:"left"}),ot=e(s,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),hi=st.add(ht).add(si).add(et),n(t.body).append(k,u.append(rt,ot)))}function tr(){function i(n){n.which>1||n.shiftKey||n.altKey||n.metaKey||n.ctrlKey||(n.preventDefault(),gt(this))}if(u){if(!li)if(li=!0,st.click(function(){o.next()}),ht.click(function(){o.prev()}),bt.click(function(){o.close()}),k.click(function(){r.get("overlayClose")&&o.close()}),n(t).bind("keydown."+h,function(n){var t=n.keyCode;tt&&r.get("escKey")&&t===27&&(n.preventDefault(),o.close());tt&&r.get("arrowKey")&&c[1]&&!n.altKey&&(t===37?(n.preventDefault(),ht.click()):t===39&&(n.preventDefault(),st.click()))}),n.isFunction(n.fn.on))n(t).on("click."+h,"."+ft,i);else n("."+ft).live("click."+h,i);return!0}return!1}function ir(){var t,y,u=o.prep,k,d=++ci,l;if(ct=!0,f=!1,ut(pt),ut(vt),r.get("onLoad"),r.h=r.get("height")?a(r.get("height"),"y")-g-w:r.get("innerHeight")&&a(r.get("innerHeight"),"y"),r.w=r.get("width")?a(r.get("width"),"x")-nt-b:r.get("innerWidth")&&a(r.get("innerWidth"),"x"),r.mw=r.w,r.mh=r.h,r.get("maxWidth")&&(r.mw=a(r.get("maxWidth"),"x")-nt-b,r.mw=r.w&&r.w<r.mw?r.w:r.mw),r.get("maxHeight")&&(r.mh=a(r.get("maxHeight"),"y")-g-w,r.mh=r.h&&r.h<r.mh?r.h:r.mh),t=r.get("href"),vi=setTimeout(function(){wt.show()},100),r.get("inline")){l=n(t);k=n("<div>").hide().insertBefore(l);p.one(pt,function(){k.replaceWith(l)});u(l)}else if(r.get("iframe"))u(" ");else if(r.get("html"))u(r.get("html"));else if(pi(r,t)){t=wi(r,t);f=new Image;n(f).addClass(h+"Photo").bind("error",function(){u(e(s,"Error").html(r.get("imgError")))}).one("load",function(){d===ci&&setTimeout(function(){var t;n.each(["alt","longdesc","aria-describedby"],function(t,i){var u=n(r.el).attr(i)||n(r.el).attr("data-"+i);u&&f.setAttribute(i,u)});r.get("retinaImage")&&i.devicePixelRatio>1&&(f.height=f.height/i.devicePixelRatio,f.width=f.width/i.devicePixelRatio);r.get("scalePhotos")&&(y=function(){f.height-=f.height*t;f.width-=f.width*t},r.mw&&f.width>r.mw&&(t=(f.width-r.mw)/f.width,y()),r.mh&&f.height>r.mh&&(t=(f.height-r.mh)/f.height,y()));r.h&&(f.style.marginTop=Math.max(r.mh-f.height,0)/2+"px");c[1]&&(r.get("loop")||c[v+1])&&(f.style.cursor="pointer",f.onclick=function(){o.next()});f.style.width=f.width+"px";f.style.height=f.height+"px";u(f)},1)});f.src=t}else t&&ot.load(t,r.get("data"),function(t,i){d===ci&&u(i==="error"?e(s,"Error").html(r.get("xhrError")):n(this).contents())})}var ni={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return n(this).attr("href")},title:function(){return this.title}},it="colorbox",h="cbox",ft=h+"Element",di=h+"_open",vt=h+"_load",yt=h+"_complete",ti=h+"_cleanup",ii=h+"_closed",pt=h+"_purge",k,u,rt,y,ri,ui,fi,ei,c,d,l,ot,wt,oi,si,et,st,ht,bt,hi,p=n("<a/>"),r,w,b,g,nt,v,f,tt,ct,lt,vi,o,s="div",ci=0,yi={},li,nr=function(){function t(){clearTimeout(l)}function e(){(r.get("loop")||c[v+1])&&(t(),l=setTimeout(o.next,r.get("slideshowSpeed")))}function a(){et.html(r.get("slideshowStop")).unbind(i).one(i,y);p.bind(yt,e).bind(vt,t);u.removeClass(n+"off").addClass(n+"on")}function y(){t();p.unbind(yt,e).unbind(vt,t);et.html(r.get("slideshowStart")).unbind(i).one(i,function(){o.next();a()});u.removeClass(n+"on").addClass(n+"off")}function s(){f=!1;et.hide();t();p.unbind(yt,e).unbind(vt,t);u.removeClass(n+"off "+n+"on")}var f,n=h+"Slideshow_",i="click."+h,l;return function(){if(f)r.get("slideshow")||(p.unbind(ti,s),s());else if(r.get("slideshow")&&c[1]){f=!0;p.one(ti,s);r.get("slideshowAuto")?a():y();et.show()}}}();n.colorbox||(n(ki),o=n.fn[it]=n[it]=function(t,i){var u,r=this;if(t=t||{},n.isFunction(r))r=n("<a/>"),t.open=!0;else if(!r[0])return r;return r[0]?(ki(),tr()&&(i&&(t.onComplete=i),r.each(function(){var i=n.data(this,it)||{};n.data(this,it,n.extend(i,t))}).addClass(ft),u=new kt(r[0],t),u.get("open")&&gt(r[0])),r):r},o.position=function(t,i){function k(){ri[0].style.width=ei[0].style.width=y[0].style.width=parseInt(u[0].style.width,10)-b+"px";y[0].style.height=ui[0].style.height=fi[0].style.height=parseInt(u[0].style.height,10)-w+"px"}var f,s=0,c=0,e=u.offset(),l,v,p;d.unbind("resize."+h);u.css({top:-9e4,left:-9e4});l=d.scrollTop();v=d.scrollLeft();r.get("fixed")?(e.top-=l,e.left-=v,u.css({position:"fixed"})):(s=l,c=v,u.css({position:"absolute"}));c+=r.get("right")!==!1?Math.max(d.width()-r.w-nt-b-a(r.get("right"),"x"),0):r.get("left")!==!1?a(r.get("left"),"x"):Math.round(Math.max(d.width()-r.w-nt-b,0)/2);s+=r.get("bottom")!==!1?Math.max(ai()-r.h-g-w-a(r.get("bottom"),"y"),0):r.get("top")!==!1?a(r.get("top"),"y"):Math.round(Math.max(ai()-r.h-g-w,0)/2);u.css({top:e.top,left:e.left,visibility:"visible"});rt[0].style.width=rt[0].style.height="9999px";f={width:r.w+nt+b,height:r.h+g+w,top:s,left:c};t&&(p=0,n.each(f,function(n){if(f[n]!==yi[n]){p=t;return}}),t=p);yi=f;t||u.css(f);u.dequeue().animate(f,{duration:t||0,complete:function(){k();ct=!1;rt[0].style.width=r.w+nt+b+"px";rt[0].style.height=r.h+g+w+"px";r.get("reposition")&&setTimeout(function(){d.bind("resize."+h,o.position)},1);i&&i()},step:k})},o.resize=function(n){var t;tt&&(n=n||{},n.width&&(r.w=a(n.width,"x")-nt-b),n.innerWidth&&(r.w=a(n.innerWidth,"x")),l.css({width:r.w}),n.height&&(r.h=a(n.height,"y")-g-w),n.innerHeight&&(r.h=a(n.innerHeight,"y")),n.innerHeight||n.height||(t=l.scrollTop(),l.css({height:"auto"}),r.h=l.height()),l.css({height:r.h}),t&&l.scrollTop(t),o.position(r.get("transition")==="none"?0:r.get("speed")))},o.prep=function(i){function b(){return r.w=r.w||l.width(),r.w=r.mw&&r.mw<r.w?r.mw:r.w,r.w}function k(){return r.h=r.h||l.height(),r.h=r.mh&&r.mh<r.h?r.mh:r.h,r.h}if(tt){var a,w=r.get("transition")==="none"?0:r.get("speed");l.remove();l=e(s,"LoadedContent").append(i);l.hide().appendTo(ot.show()).css({width:b(),overflow:r.get("scrolling")?"auto":"hidden"}).css({height:k()}).prependTo(y);ot.hide();n(f).css({float:"none"});at(r.get("className"));a=function(){function o(){n.support.opacity===!1&&u[0].style.removeAttribute("filter")}var f=c.length,i,e;if(tt){if(e=function(){clearTimeout(vi);wt.hide();ut(yt);r.get("onComplete")},oi.html(r.get("title")).show(),l.show(),f>1?(typeof r.get("current")=="string"&&si.html(r.get("current").replace("{current}",v+1).replace("{total}",f)).show(),st[r.get("loop")||v<f-1?"show":"hide"]().html(r.get("next")),ht[r.get("loop")||v?"show":"hide"]().html(r.get("previous")),nr(),r.get("preloading")&&n.each([dt(-1),dt(1)],function(){var u,f=c[this],r=new kt(f,n.data(f,it)),i=r.get("href");i&&pi(r,i)&&(i=wi(r,i),u=t.createElement("img"),u.src=i)})):hi.hide(),r.get("iframe")){i=t.createElement("iframe");"frameBorder"in i&&(i.frameBorder=0);"allowTransparency"in i&&(i.allowTransparency="true");r.get("scrolling")||(i.scrolling="no");n(i).attr({src:r.get("href"),name:(new Date).getTime(),"class":h+"Iframe",allowFullScreen:!0}).one("load",e).appendTo(l);p.one(pt,function(){i.src="//about:blank"});r.get("fastIframe")&&n(i).trigger("load")}else e();r.get("transition")==="fade"?u.fadeTo(w,1,o):o()}};r.get("transition")==="fade"?u.fadeTo(w,0,function(){o.position(0,a)}):o.position(w,a)}},o.next=function(){!ct&&c[1]&&(r.get("loop")||c[v+1])&&(v=dt(1),gt(c[v]))},o.prev=function(){!ct&&c[1]&&(r.get("loop")||v)&&(v=dt(-1),gt(c[v]))},o.close=function(){tt&&!lt&&(lt=!0,tt=!1,ut(ti),r.get("onCleanup"),d.unbind("."+h),k.fadeTo(r.get("fadeOut")||0,0),u.stop().fadeTo(r.get("fadeOut")||0,0,function(){u.hide();k.hide();ut(pt);l.remove();setTimeout(function(){lt=!1;ut(ii);r.get("onClosed")},1)}))},o.remove=function(){u&&(u.stop(),n.colorbox.close(),u.stop().remove(),k.remove(),lt=!1,u=null,n("."+ft).removeData(it).removeClass(ft),n(t).unbind("click."+h))},o.element=function(){return n(r.el)},o.settings=ni)})(n,document,window)});