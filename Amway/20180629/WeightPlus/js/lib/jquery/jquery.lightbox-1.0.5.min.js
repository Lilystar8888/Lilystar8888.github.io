(function(a){typeof define==="function"&&define.amd?define(["jquery","extend"],a):a(jQuery)})(function(){var b="isobar_lightbox";$.fn.lightbox=function(c){if(typeof c=="string"){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=$(this).data(b);a&&a[c]&&a[c].apply(a,d)})}else return this.each(function(){var d=new a;d._setting=$.extend(true,{},$.fn.lightbox.settings,c);d._element=this;d._init();$(this).data(b,d)})};$.fn.lightbox.settings={overlayBindingEvent:"click",overlayBgColor:"#000",overlayOpacity:.7,zIndex:89999999,show:true,width:0,height:0,onOverlayEvent:null,onShow:null,onHide:null,onBeforeShow:null,onBeforeHide:null,onCustAnimateShow:null,onCustAnimateHide:null};function a(){}$.extend(a.prototype,{_setting:$.fn.lightbox.settings,_element:null,_overlayElement:null,show:function(){var a=this;if(this._setting.onBeforeShow){var b={cancel:false,ligbox:this._element,overlay:this._overlayElement};this._setting.onBeforeShow(b);if(b.cancel)return}this._overlayElement=$("<div/>").css({display:"none",position:"fixed","background-color":this._setting.overlayBgColor,"z-index":this._setting.zIndex-1,opacity:this._setting.overlayOpacity,top:0,left:0,width:"100%",height:"100%"}).on(this._setting.overlayBindingEvent,this._setting.onOverlayEvent?this._setting.onOverlayEvent:function(){a.hide()});$(this._element).before(this._overlayElement);$(this._element).css({left:"50%","margin-left":"-"+this._setting.width/2+"px"});$(this._element).css({top:"50%","margin-top":"-"+this._setting.height/2+"px"});if(this._setting.onCustAnimateShow)this._setting.onCustAnimateShow(this._element,this._overlayElement);else{$(this._overlayElement).show();$(this._element).fadeIn(function(){if(a._setting.onShow)a._setting.onShow(a._element,a._overlayElement)})}},hide:function(){var a=this;if(this._setting.onBeforeHide){var b={cancel:false,ligbox:this._element,overlay:this._overlayElement};this._setting.onBeforeHide(b);if(b.cancel)return}if(this._setting.onCustAnimateHide)this._setting.onCustAnimateHide(this._element,this._overlayElement);else $(this._element).fadeOut(function(){$(a._overlayElement).hide();$(a._overlayElement).remove();if(a._setting.onHide)a._setting.onHide(a._element)})},_init:function(){var a=this;if(this._setting.width==0||this._setting.height==0){$(this._element).css({position:"fixed",top:"0px",left:"0px","z-index":this._setting.zIndex,opacity:0}).show();this._setting.width=this._setting.width||$(this._element).outerWidth();this._setting.height=this._setting.height||$(this._element).outerHeight();$(this._element).hide().css({opacity:1})}else $(this._element).hide().css({position:"fixed",top:"0px",left:"0px","z-index":this._setting.zIndex});$(this._element).hide();this._setting.show&&this.show()}})})