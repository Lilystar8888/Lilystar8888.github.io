(function(c){function C(a,g,c,d){return Math.abs(a-g)>=Math.abs(c-d)?0<a-g?"Left":"Right":0<c-d?"Up":"Down"}function D(){d=null;a.last&&(a.el.trigger("longTap"),a={})}function k(){h&&clearTimeout(h);m&&clearTimeout(m);n&&clearTimeout(n);d&&clearTimeout(d);h=m=n=d=null;a={}}function u(a){return("touch"==a.pointerType||a.pointerType==a.MSPOINTER_TYPE_TOUCH)&&a.isPrimary}function v(a,c){return a.type=="pointer"+c||a.type.toLowerCase()=="mspointer"+c}function B(q){var g,r,t=0,w=0,e,l;x&&(c(document).off(f.down,
y).off(f.up,z).off(f.move,A).off(f.cancel,k),c(window).off("scroll",k),k(),x=!1);if(f=q&&"down"in q?q:"ontouchstart"in document?{down:"touchstart",up:"touchend",move:"touchmove",cancel:"touchcancel"}:"onpointerdown"in document?{down:"pointerdown",up:"pointerup",move:"pointermove",cancel:"pointercancel"}:"onmspointerdown"in document?{down:"MSPointerDown",up:"MSPointerUp",move:"MSPointerMove",cancel:"MSPointerCancel"}:!1)"MSGesture"in window&&(p=new MSGesture,p.target=document.body,c(document).bind("MSGestureEnd",
function(b){if(b=1<b.velocityX?"Right":-1>b.velocityX?"Left":1<b.velocityY?"Down":-1>b.velocityY?"Up":null)a.el.trigger("swipe"),a.el.trigger("swipe"+b)})),y=function(b){if(!(l=v(b,"down"))||u(b))e=l?b:b.touches[0],b.touches&&1===b.touches.length&&a.x2&&(a.x2=void 0,a.y2=void 0),g=Date.now(),r=g-(a.last||g),a.el=c("tagName"in e.target?e.target:e.target.parentNode),h&&clearTimeout(h),a.x1=e.pageX,a.y1=e.pageY,0<r&&250>=r&&(a.isDoubleTap=!0),a.last=g,d=setTimeout(D,750),p&&l&&p.addPointer(b.pointerId)},
A=function(b){if(!(l=v(b,"move"))||u(b))e=l?b:b.touches[0],d&&clearTimeout(d),d=null,a.x2=e.pageX,a.y2=e.pageY,t+=Math.abs(a.x1-a.x2),w+=Math.abs(a.y1-a.y2)},z=function(b){if(!(l=v(b,"up"))||u(b))d&&clearTimeout(d),d=null,a.x2&&30<Math.abs(a.x1-a.x2)||a.y2&&30<Math.abs(a.y1-a.y2)?n=setTimeout(function(){a.el&&(a.el.trigger("swipe"),a.el.trigger("swipe"+C(a.x1,a.x2,a.y1,a.y2)));a={}},0):"last"in a&&(30>t&&30>w?m=setTimeout(function(){var b=c.Event("tap");b.cancelTouch=k;a.el&&a.el.trigger(b);a.isDoubleTap?
(a.el&&a.el.trigger("doubleTap"),a={}):h=setTimeout(function(){h=null;a.el&&a.el.trigger("singleTap");a={}},250)},0):a={}),t=w=0},c(document).on(f.up,z).on(f.down,y).on(f.move,A),c(document).on(f.cancel,k),c(window).on("scroll",k),x=!0}var a={},h,m,n,d,p,y,z,A,f,x=!1;"swipe swipeLeft swipeRight swipeUp swipeDown doubleTap tap singleTap longTap".split(" ").forEach(function(a){c.fn[a]=function(c){return this.on(a,c)}});c.touch={setup:B};c(document).ready(B)})(Zepto);